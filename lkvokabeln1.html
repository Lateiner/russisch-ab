<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Vokabel-Lernkartei</title>
    <style>
        :root {
            --primary-green: #2e7d32; /* Dunkles Gr√ºn */
            --secondary-green: #4caf50; /* Helles Gr√ºn */
            --accent-green: #81c784; /* Akzent */
            --bg-color: #e8f5e9; /* Sehr helles Gr√ºn f√ºr Hintergrund */
            --card-bg: #ffffff;
            --text-color: #333333;
            --text-secondary: #666666;
            --shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        h1 {
            color: var(--primary-green);
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8rem;
        }

        /* Hauptcontainer */
        .app-container {
            width: 100%;
            max-width: 700px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        /* Fortschrittsanzeige */
        .progress-bar {
            background-color: #c8e6c9;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            color: var(--primary-green);
            font-size: 0.9rem;
        }

        /* Karteikarten Szene (f√ºr 3D Effekt) */
        .scene {
            width: 100%;
            height: 350px;
            perspective: 1000px;
            cursor: pointer;
        }

        /* Die Karte selbst */
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        /* Vorder- und R√ºckseite */
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden; /* Wichtig: Versteckt die R√ºckseite beim Drehen */
            background-color: var(--card-bg);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 30px;
            text-align: center;
            border: 2px solid transparent;
        }

        .card-face-front {
            border-bottom: 5px solid var(--secondary-green);
        }

        .card-face-back {
            transform: rotateY(180deg);
            background-color: #f1f8e9; /* Leicht anderer Ton f√ºr R√ºckseite */
            border-bottom: 5px solid var(--primary-green);
        }

        /* Inhaltstexte */
        .label {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            margin-bottom: 15px;
            position: absolute;
            top: 20px;
        }

        .word {
            font-size: 2rem;
            font-weight: bold;
            color: var(--text-color);
            line-height: 1.4;
        }

        .word.rus {
            color: var(--primary-green);
        }

        .hint {
            margin-top: 15px;
            font-size: 0.9rem;
            color: #888;
            font-style: italic;
        }

        /* Steuerelemente */
        .controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            gap: 10px;
            flex-wrap: wrap;
        }

        .nav-group {
            display: flex;
            gap: 10px;
            flex-grow: 1;
            justify-content: center;
        }

        .action-group {
            display: flex;
            gap: 10px;
            justify-content: center;
            width: 100%;
            margin-top: 10px;
        }

        button {
            background-color: var(--primary-green);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s, transform 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        button:hover {
            background-color: var(--secondary-green);
        }

        button:active {
            transform: scale(0.98);
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background-color: white;
            color: var(--primary-green);
            border: 2px solid var(--primary-green);
        }

        .btn-secondary:hover {
            background-color: #e8f5e9;
        }

        /* Responsives Design */
        @media (max-width: 600px) {
            .scene {
                height: 300px;
            }
            .word {
                font-size: 1.5rem;
            }
            .controls {
                flex-direction: column;
            }
            .nav-group, .action-group {
                width: 100%;
            }
            button {
                flex: 1;
            }
            h1 {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>

    <h1>Russisch Vokabeln</h1>

    <div class="app-container">
        
        <div class="progress-bar" id="progressDisplay">Karte 1 / 80</div>

        <div class="scene" id="cardScene">
            <div class="card" id="flashcard">
                <!-- Vorderseite (Russisch) -->
                <div class="card-face card-face-front">
                    <span class="label">Russisch</span>
                    <div class="word rus" id="frontText">...</div>
                    <div class="hint">Klicken zum Umdrehen</div>
                </div>
                
                <!-- R√ºckseite (Deutsch) -->
                <div class="card-face card-face-back">
                    <span class="label">Deutsch</span>
                    <div class="word" id="backText">...</div>
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="nav-group">
                <button id="btnPrev" onclick="prevCard()">‚Üê Vorherige</button>
                <button id="btnNext" onclick="nextCard()">N√§chste ‚Üí</button>
            </div>
            
            <div class="action-group">
                <button class="btn-secondary" id="btnShuffle" onclick="shuffleDeck()">
                    <span style="font-size: 1.2em">üîÄ</span> Mischen
                </button>
                <button class="btn-secondary" id="btnReset" onclick="resetDeck()">
                    <span style="font-size: 1.2em">‚èÆ</span> Zum Anfang
                </button>
            </div>
        </div>
        
        <div style="font-size: 0.8rem; color: #777; margin-top: 10px;">
            <p>Tastatur: <strong>Leertaste/Enter</strong> (Drehen), <strong>Pfeile</strong> (Navigieren), <strong>Pos1</strong> (Anfang)</p>
        </div>

    </div>

<script>
    // --- DATEN ---
    // Die Rohdaten werden hier als Array von Objekten gespeichert.
    const rawData = [
        "–ø—Ä–∏—èÃÅ—Ç–Ω–æ ‚Äì angenehm",
        "–∑–Ω–∞–∫–æÃÅ–º–∏—Ç—å—Å—è / –ø–æ–∑–Ω–∞–∫–æÃÅ–º–∏—Ç—å—Å—è ‚Äì sich bekannt machen / kennenlernen",
        "–∑–≤–∞—Ç—å / –ø–æ–∑–≤–∞ÃÅ—Ç—å ‚Äì rufen / nennen (hei√üen)",
        "–¥–µ–≤—è—Ç–Ω–∞ÃÅ–¥—Ü–∞—Ç—å ‚Äì neunzehn",
        "–≥–æ–¥ (Pl. –≥–æÃÅ–¥—ã / Gen. Pl. –ª–µ—Ç) ‚Äì Jahr",
        "–ø—Ä–∏–µ–∑–∂–∞ÃÅ—Ç—å / –ø—Ä–∏–µÃÅ—Ö–∞—Ç—å ‚Äì ankommen / herkommen",
        "–ì–µ—Ä–º–∞ÃÅ–Ω–∏—è ‚Äì Deutschland",
        "–†–æ—Å—Å–∏ÃÅ—è ‚Äì Russland",
        "—Å—Ç—É–¥–µÃÅ–Ω—Ç ‚Äì Student",
        "—É—á–∏ÃÅ—Ç—å—Å—è / –≤—ãÃÅ—É—á–∏—Ç—å—Å—è ‚Äì studieren / lernen (an einem Ort)",
        "–∑–¥–µ—Å—å ‚Äì hier",
        "—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µÃÅ—Ç ‚Äì Universit√§t",
        "–∑–Ω–∞—Ç—å / —É–∑–Ω–∞ÃÅ—Ç—å ‚Äì wissen / kennen",
        "—Ä—ÉÃÅ—Å—Å–∫–∏–π ‚Äì russisch",
        "–∞–Ω–≥–ª–∏ÃÅ–π—Å–∫–∏–π ‚Äì englisch",
        "–Ω–µ–º–µÃÅ—Ü–∫–∏–π ‚Äì deutsch",
        "—è–∑—ãÃÅ–∫ ‚Äì Sprache / Zunge",
        "–Ω–µ–º–Ω–æÃÅ–≥–æ ‚Äì ein wenig / etwas",
        "–≥–æ–≤–æ—Ä–∏ÃÅ—Ç—å / —Å–∫–∞–∑–∞ÃÅ—Ç—å ‚Äì sprechen / sagen",
        "–ø–æ-–∏—Å–ø–∞ÃÅ–Ω—Å–∫–∏ ‚Äì Spanisch (auf Spanisch)",
        "—É–∂–µÃÅ ‚Äì schon / bereits",
        "–±—ã—Ç—å (–ø–æ–±—ãÃÅ—Ç—å) ‚Äì sein",
        "–êÃÅ–Ω–≥–ª–∏—è ‚Äì England",
        "–ò—Å–ø–∞ÃÅ–Ω–∏—è ‚Äì Spanien",
        "–ì—Ä–µÃÅ—Ü–∏—è ‚Äì Griechenland",
        "–êÃÅ–≤—Å—Ç—Ä–∏—è ‚Äì √ñsterreich",
        "—Ö–æ—Ç–µÃÅ—Ç—å / –∑–∞—Ö–æ—Ç–µÃÅ—Ç—å ‚Äì wollen",
        "–µÃÅ—Ö–∞—Ç—å / –ø–æ–µÃÅ—Ö–∞—Ç—å ‚Äì fahren (konkret, eine Richtung)",
        "–ê–º–µÃÅ—Ä–∏–∫–∞ ‚Äì Amerika",
        "–∏–∑—É—á–∞ÃÅ—Ç—å / –∏–∑—É—á–∏ÃÅ—Ç—å ‚Äì studieren / erlernen (ein Fach vertieft)",
        "–ø–æ–ª–∏ÃÅ—Ç–∏–∫–∞ ‚Äì Politik",
        "—ç–∫–æ–Ω–æÃÅ–º–∏–∫–∞ ‚Äì Wirtschaft",
        "–ø–æ—Ç–æ–º—ÉÃÅ —á—Ç–æ ‚Äì weil",
        "–∏–Ω—Ç–µ—Ä–µÃÅ—Å–Ω—ã–π ‚Äì interessant",
        "–ø–æ–ª–µÃÅ–∑–Ω—ã–π ‚Äì n√ºtzlich",
        "–∫–∞ÃÅ–∂–¥—ã–π ‚Äì jeder",
        "—ÉÃÅ—Ç—Ä–æ ‚Äì Morgen",
        "–∑–∞ÃÅ–≤—Ç—Ä–∞–∫–∞—Ç—å / –ø–æ–∑–∞ÃÅ–≤—Ç—Ä–∞–∫–∞—Ç—å ‚Äì fr√ºhst√ºcken",
        "—á–∏—Ç–∞ÃÅ—Ç—å / –ø—Ä–æ—á–∏—Ç–∞ÃÅ—Ç—å ‚Äì lesen",
        "–≥–∞–∑–µÃÅ—Ç–∞ ‚Äì Zeitung",
        "–∏ÃÅ–ª–∏ ‚Äì oder",
        "—Å–º–æ—Ç—Ä–µÃÅ—Ç—å / –ø–æ—Å–º–æ—Ç—Ä–µÃÅ—Ç—å ‚Äì schauen / ansehen",
        "–Ω–æÃÅ–≤–æ—Å—Ç–∏ (Pl.) ‚Äì Nachrichten",
        "—Ç–µ–ª–µ–≤–∏ÃÅ–∑–æ—Ä ‚Äì Fernseher",
        "–Ω—Ä–∞ÃÅ–≤–∏—Ç—å—Å—è / –ø–æ–Ω—Ä–∞ÃÅ–≤–∏—Ç—å—Å—è ‚Äì gefallen / m√∂gen",
        "–≤—Å—ë ‚Äì alles",
        "–º–∏—Ä ‚Äì Welt (auch: Frieden)",
        "—Å—Ç–∞–Ω–æ–≤–∏ÃÅ—Ç—å—Å—è / —Å—Ç–∞—Ç—å ‚Äì werden",
        "–ø—Ä–µ–ø–æ–¥–∞–≤–∞ÃÅ—Ç–µ–ª—å ‚Äì Dozent / Lehrer (Hochschule)",
        "—Ä–∞–±–æÃÅ—Ç–∞—Ç—å / –ø–æ—Ä–∞–±–æÃÅ—Ç–∞—Ç—å ‚Äì arbeiten",
        "–∏–Ω—Å—Ç–∏—Ç—ÉÃÅ—Ç ‚Äì Institut",
        "–ø–æ–Ω–µ–¥–µÃÅ–ª—å–Ω–∏–∫ ‚Äì Montag",
        "–≤—Ç–æÃÅ—Ä–Ω–∏–∫ ‚Äì Dienstag",
        "—Å—Ä–µ–¥–∞ÃÅ ‚Äì Mittwoch",
        "—á–µ—Ç–≤–µÃÅ—Ä–≥ ‚Äì Donnerstag",
        "—ÉÃÅ—Ç—Ä–æ–º ‚Äì morgens",
        "–¥–Ω—ë–º ‚Äì tags√ºber",
        "–º–Ω–æÃÅ–≥–æ ‚Äì viel",
        "–∑–∞–Ω–∏–º–∞ÃÅ—Ç—å—Å—è / –ø–æ–∑–∞–Ω–∏–º–∞ÃÅ—Ç—å—Å—è ‚Äì lernen / sich besch√§ftigen / √ºben",
        "–¥–µÃÅ–ª–∞—Ç—å / —Å–¥–µÃÅ–ª–∞—Ç—å ‚Äì machen / tun",
        "–¥–æ–º–∞ÃÅ—à–Ω–µ–µ –∑–∞–¥–∞ÃÅ–Ω–∏–µ ‚Äì Hausaufgabe",
        "–ø—èÃÅ—Ç–Ω–∏—Ü–∞ ‚Äì Freitag",
        "—Å—É–±–±–æÃÅ—Ç–∞ ‚Äì Samstag",
        "–≤–æ—Å–∫—Ä–µ—Å–µÃÅ–Ω—å–µ ‚Äì Sonntag",
        "–æ—Ç–¥—ã—Ö–∞ÃÅ—Ç—å / –æ—Ç–¥–æ—Ö–Ω—ÉÃÅ—Ç—å ‚Äì sich ausruhen / erholen",
        "–∫–æ–≥–¥–∞ÃÅ ‚Äì wenn / wann",
        "–æ–±—ãÃÅ—á–Ω–æ ‚Äì gew√∂hnlich / normalerweise",
        "—Å–ª—ÉÃÅ—à–∞—Ç—å / –ø–æ—Å–ª—ÉÃÅ—à–∞—Ç—å ‚Äì h√∂ren / zuh√∂ren",
        "–º—ÉÃÅ–∑—ã–∫–∞ ‚Äì Musik",
        "—Ñ–∏–ª—å–º ‚Äì Film",
        "–≥—É–ª—èÃÅ—Ç—å / –ø–æ–≥—É–ª—èÃÅ—Ç—å ‚Äì spazieren gehen",
        "–≤—á–µ—Ä–∞ÃÅ ‚Äì gestern",
        "–≤–µÃÅ—á–µ—Ä–æ–º ‚Äì abends",
        "–ø–∞—Ä–∫ ‚Äì Park",
        "–ø–æ–¥—Ä—ÉÃÅ–≥–∞ ‚Äì Freundin",
        "–∫—Ä–∞—Å–∏ÃÅ–≤—ã–π ‚Äì sch√∂n",
        "—ÉÃÅ–º–Ω—ã–π ‚Äì klug",
        "–∏—Å—Ç–æÃÅ—Ä–∏—è ‚Äì Geschichte",
        "–º—É–∑–µÃÅ–π ‚Äì Museum",
        "–≤–Ω–∏–º–∞ÃÅ—Ç–µ–ª—å–Ω–æ ‚Äì aufmerksam"
    ];

    // --- LOGIK & STATE ---
    
    let originalDeck = [];
    let currentDeck = [];
    let currentIndex = 0;
    let isFlipped = false;

    const cardElement = document.getElementById('flashcard');
    const sceneElement = document.getElementById('cardScene');
    const frontTextEl = document.getElementById('frontText');
    const backTextEl = document.getElementById('backText');
    const progressEl = document.getElementById('progressDisplay');
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');

    // Initialisierung
    function init() {
        // Daten parsen (String -> Objekt)
        originalDeck = rawData.map((line, index) => {
            const parts = line.split('‚Äì');
            if (parts.length >= 2) {
                return {
                    id: index + 1,
                    front: parts[0].trim(),
                    back: parts.slice(1).join('‚Äì').trim() // Falls weitere Gedankenstriche im Text sind
                };
            }
            return null;
        }).filter(item => item !== null);

        currentDeck = [...originalDeck];
        updateUI();

        // Event Listeners f√ºr Klick/Tap
        sceneElement.addEventListener('click', flipCard);

        // Tastatursteuerung
        document.addEventListener('keydown', handleKeydown);
    }

    // Karte umdrehen
    function flipCard() {
        isFlipped = !isFlipped;
        if (isFlipped) {
            cardElement.classList.add('is-flipped');
        } else {
            cardElement.classList.remove('is-flipped');
        }
    }

    // Zur n√§chsten Karte
    function nextCard() {
        if (currentIndex < currentDeck.length - 1) {
            // Erst zur√ºckdrehen, dann Inhalt √§ndern (timeout f√ºr Animation w√§re sch√∂ner, aber direkter Wechsel ist responsiver)
            if (isFlipped) flipCard();
            
            // Kleiner Timeout, damit der Flip zur√ºck erst optisch registriert wird, 
            // bevor neuer Text kommt? Nein, bei Flashcards ist direkter Wechsel meist besser.
            // Wir wechseln sofort den Index.
            setTimeout(() => {
                currentIndex++;
                updateUI();
            }, isFlipped ? 200 : 0); // Falls gedreht war, kurz warten
        }
    }

    // Zur vorherigen Karte
    function prevCard() {
        if (currentIndex > 0) {
            if (isFlipped) flipCard();
            
            setTimeout(() => {
                currentIndex--;
                updateUI();
            }, isFlipped ? 200 : 0);
        }
    }

    // Mischen (Fisher-Yates Shuffle)
    function shuffleDeck() {
        if (isFlipped) flipCard();
        
        // Kurze Verz√∂gerung f√ºr Flip-Reset
        setTimeout(() => {
            for (let i = currentDeck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentDeck[i], currentDeck[j]] = [currentDeck[j], currentDeck[i]];
            }
            currentIndex = 0;
            updateUI();
        }, 200);
    }

    // Reset (Zur√ºck zur Originalreihenfolge oder Start des gemischten Stapels? 
    // Anforderung: "An den Anfang" -> Zur ersten Karte des *aktuellen* Stapels.
    // Aber Button Reset impliziert oft auch "Reset Order".
    // Hier: "Zum Anfang" springt zu Index 0 des aktuellen Decks.
    // Wenn man Originalreihenfolge will, m√ºsste man currentDeck = [...originalDeck] setzen.
    // Die Anforderung "An den Anfang" interpretiere ich als Index 0.
    function resetDeck() {
        if (isFlipped) flipCard();
        setTimeout(() => {
            currentIndex = 0;
            updateUI();
        }, 200);
    }

    // UI aktualisieren
    function updateUI() {
        const card = currentDeck[currentIndex];
        
        // Text setzen
        frontTextEl.textContent = card.front;
        backTextEl.textContent = card.back;
        
        // Schriftgr√∂√üe dynamisch anpassen bei langem Text
        adjustFontSize(frontTextEl);
        adjustFontSize(backTextEl);

        // Fortschritt
        progressEl.textContent = `Karte ${currentIndex + 1} / ${currentDeck.length}`;

        // Buttons disablen
        btnPrev.disabled = currentIndex === 0;
        btnNext.disabled = currentIndex === currentDeck.length - 1;
    }

    // Hilfsfunktion: Schriftgr√∂√üe anpassen
    function adjustFontSize(element) {
        // Reset zuerst
        element.style.fontSize = '2rem';
        
        // Wenn der Text zu lang ist (mehr als ca 100 Zeichen oder Zeilenumbruch Probleme), reduzieren
        const length = element.textContent.length;
        if (length > 30) element.style.fontSize = '1.5rem';
        if (length > 60) element.style.fontSize = '1.2rem';
        if (length > 100) element.style.fontSize = '1rem';
    }

    // Tastatur Event Handler
    function handleKeydown(e) {
        switch(e.key) {
            case " ":
            case "Enter":
                e.preventDefault(); // Scrollen verhindern
                flipCard();
                break;
            case "ArrowRight":
                nextCard();
                break;
            case "ArrowLeft":
                prevCard();
                break;
            case "Home":
                resetDeck();
                break;
        }
    }

    // App starten
    init();

</script>

</body>
</html>